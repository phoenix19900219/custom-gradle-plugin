/*
 * This file was generated by the Gradle 'init' task.
 *
 * The settings file is used to specify which projects to include in your build.
 *
 * Detailed information about configuring a multi-project build in Gradle can be found
 * in the user manual at https://docs.gradle.org/7.4.2/userguide/multi_project_builds.html
 */

pluginManagement {
    repositories {
        // gradlePluginPortal()
        // google()
        // mavenCentral()

        /*maven {
            println "rootProject.projectDir => ${rootProject.projectDir}"
            println "repo => ${file(rootProject.projectDir.absolutePath + File.separator + 'repo')}"
            println file("aa").toURI()
            println URI.create("file://${rootProject.projectDir.absolutePath + File.separator + 'repo'}")

            // url URI.create("file://${rootProject.projectDir.absolutePath + File.separator + 'repo'}")
            //url URI.create("file:${rootProject.projectDir.absolutePath + File.separator + 'repo'}")
            url file("repo").toURI()

            // 这里的 rootProject没有layout属性
            // url = rootProject.layout.projectDirectory.dir("repo") // 这个也可以
        }*/

        mavenLocal()
        maven { url 'https://maven.aliyun.com/repository/google' } // google()
        maven { url 'https://maven.aliyun.com/repository/public/' } // jcenter() 和 mavenCentral()
        maven { url 'https://maven.aliyun.com/repository/gradle-plugin' } // gradle-plugin 仓库
        mavenCentral()
    }

}

dependencyResolutionManagement {
    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)
    repositories {
        // google()
        // mavenCentral()
        mavenLocal()
        maven { url 'https://maven.aliyun.com/repository/google' } // google()
        maven { url 'https://maven.aliyun.com/repository/public/' } // jcenter() 和 mavenCentral()
        maven { url 'https://maven.aliyun.com/repository/gradle-plugin' } // gradle-plugin 仓库
        mavenCentral()
    }
}

rootProject.name = "demo2"
include ':myplugin'
include ':myplugin-test'
